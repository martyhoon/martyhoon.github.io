I"<p><br /></p>

<p style="font-size : 10px; color : #e9e9e9"> 아래 글은 공부하고 기억하기 위해 남겨놓는 글이다 </p>

<h3 id="-intro">🔶 Intro</h3>

<p>html 페이지의 lifecycle는 3개의 중요한 event를 가지고 있다.</p>

<ul>
  <li><span style="border-bottom : 3px soild #be4e7f8; box-shadow : inset 0 -4px 0 #b4e7f8;">DOMContentLoaded </span> : Browser에서 HTML이 완전히 로드되고 DOM tree가 만들어 질 때 발생하는 이벤트이다.</li>
  <li><span style="border-bottom : 3px soild #be4e7f8; box-shadow : inset 0 -4px 0 #b4e7f8;">load </span> : 문서의 모든 콘텐츠(images,script,css, etc)가 로드된 후 발생하는 이벤트</li>
  <li><span style="border-bottom : 3px soild #be4e7f8; box-shadow : inset 0 -4px 0 #b4e7f8;">beforeunload / unload </span> : 사용자가 페이지를 벗어날 때 일어나는 이벤트</li>
</ul>

<h3 id="-domcontentloaded">🔶 DOMContentLoaded</h3>

<p>위는 onload 이벤트보다 먼저 발생한다. 즉, DOM tree가 완성되면 바로 발생하므로 빠른 실행속도가 필요할 때 적합하다. 다음은 DOMContentLoaded를 이벤트를 다루는 방법들이다.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//vanilla js</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">DOMContentLoaded</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span> 
    <span class="c1">//실행될 코드 </span>
 <span class="p">});</span>

<span class="c1">//jQuery</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> 
    <span class="c1">//실행될 코드 </span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="-load">🔶 load</h3>

<p>이는 문서의 모든 콘텐츠가 로드된 후 발생하는 이벤트이다. 이로 인해 불필요한 로딩시간이 추가될 수 있다. 동일한 문서에는 오직 <code class="language-plaintext highlighter-rouge">onload</code>는 하나만 존재해야 한다.</p>

<ul>
  <li>중복될 경우, 마지막 선언이 실행</li>
  <li>외부 라이브러리에서 이미 선언된 경우 이를 찾아 하나로 합치는 과정 필요</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//방법 1</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">Page loaded</span><span class="dl">'</span><span class="p">);</span> 
  <span class="p">};</span>

<span class="c1">//방법 2 </span>
  <span class="o">&lt;</span><span class="nx">body</span> <span class="nx">onload</span><span class="o">=</span><span class="dl">"</span><span class="s2">실행될 코드</span><span class="dl">"</span><span class="o">&gt;</span>
</code></pre></div></div>

<p>일반적으로, 스크립트를 문서의 마지막(&lt;/body&gt;) 이전에 삽입하면 굳이 이벤트를 이용하여 프로그래밍을 처리할 필요가 없다. 다만, 문서의 &lt;head&gt; 영역에 스크립트가 삽입되거나 외부의 파일에 정의되어 있다면 이벤트를 연결하여 문서의 로드시점에 맞게 처리해야 한다.</p>

:ET